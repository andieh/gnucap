spice
* p type inv amp w/bti
.options TEMP=25

.load rcd_sym.so

.param pulse_iv=0
.param pulse_rise=1n

.param voff=0.4
.model my_rcdmodel rcd_exp
.parameter s=.11

.model bti_ptm_approx bti_sum (
+ parms = (
+(1.28936788433 ,  -0.0*s,                  13.433303380408852, 43.576925888911987*s, 1.4509831704140836),
+(0.0425895446518, -0.0*s,                  4.1230027350333067, 44.168622555330224*s, 0.35639368027120355),
+(0.00986204739979,-0.046730726782108274*s, 6.9322844619511379, 34.467824008855281*s, 19.76034507753667),
+(323556.834838,   -0.74091304338940822*s,  7.9999074744048002, 50.0*s, 25.0),
+(65734.7534834,   -0.0*s,                  7.6851098109742111, 33.944029750879885*s, 20.802215970322095),
+(25.5541996901,   -46.321386556453803*s,  16.844440862184946, 11.976323270474861*s, 23.296371309229073)
+)
+rcd_model_name=my_rcdmodel weight=1.23
+symmetric=0
+ )

.model bti_ptm_approx_symm bti_sum (
+ parms = (
+(1.28936788433 ,  -0.0*s,                  13.433303380408852, 43.576925888911987*s, 1.4509831704140836),
+(0.0425895446518, -0.0*s,                  4.1230027350333067, 44.168622555330224*s, 0.35639368027120355),
+(0.00986204739979,-0.046730726782108274*s, 6.9322844619511379, 34.467824008855281*s, 19.76034507753667),
+(323556.834838,   -0.74091304338940822*s,  7.9999074744048002, 50.0*s, 25.0),
+(65734.7534834,   -0.0*s,                  7.6851098109742111, 33.944029750879885*s, 20.802215970322095),
+(25.5541996901,   -46.321386556453803*s,  16.844440862184946, 11.976323270474861*s, 23.296371309229073)
+)
+rcd_model_name=my_rcdmodel weight=1.23
+symmetric=1
+ )

.list

.model cmosp pmos(
+ level=8
+ bti_model=bti_ptm_approx
+ ALPHA0 = 6.0E-08 BETA0 = 12
+ H0 = 0
+ vth0 = -1.42
+)

.model cmosp_symm pmos(
+ level=8
+ bti_model=bti_ptm_approx_symm
+ ALPHA0 = 6.0E-08 BETA0 = 12
+ H0 = 0
+ vth0 = -1.42
+)

.param vdd=5

Rs1 nin 0 30
Rs2 nin ndd 19

MPregl nout ng ndd ndd cmosp l=3.5e-5 w=4.5e-6
MPsymm nout ng ndd ndd cmosp_symm l=3.5e-5 w=4.5e-6
Vg ndd ng vin
V1 nout 0 vout

.param vin vdd
.param vout=4
.param vout=0

vdd ndd 0 vdd

.print tw
+ hidden(0)
+ v(ng)
+ v(nout)
+ dvth(mp*.bti)
+ dvths(mpsymm.bti)
+ dvthd(mpsymm.bti)

.print dc ids(mp*)
+ dvth(mp*)
+ v(ng)
+ v(nout)
* + area(mpsymm.bti)
* + dvths(mpsymm.bti)
* + dvthd(mpsymm.bti)

.dc vg 1 5 0.01 > dc.out echo

.param vout=5
*stress asymm
.param vout=0
.tw 1u .1m 500000 * 2 new trace=n > symm.out echo

.echo >> dc.out
.param vout=4
.dc vg 1 5 0.01 >> dc.out echo


* relax asymmetrically
.param vin=0
.param vout=0
.tw 1000000 * 2 cont trace=n >> symm.out echo


.param vin vdd
.param vout=4

.echo >> dc.out
.dc vg 1 5 0.01 >> dc.out echo
.stat notime
.end


