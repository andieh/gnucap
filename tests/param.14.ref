.model nmos nmos1 ( level=1 kp=NA( 20.u) vto=NA( NA) gamma= 0. phi= 0.6 uo=NA( 600.) tpg=1 tnom=NA( 27.) fc=NA( 0.5) pb=NA( 0.8) cj=NA( 0.) mj=NA( 0.5) cjsw=NA( 0.) mjsw=NA( 0.5) is=NA( 10.f) cgso=NA( 0.) cgdo=NA( 0.) cgbo=NA( 0.) ld=NA( 0.))
.subckt foo ( 1 2 )
M1 ( 1 1 2 2 )  nmos  l=1 w=wid
.ends foo
.subckt bar ( 1 2 )
.model nmos2 nmos1 ( level=1 kp=NA( NA) vto=NA( NA) gamma=NA( NA) phi=NA( NA) uo=NA( 600.) tpg=NA(1) tnom=NA( 27.) fc=NA( 0.5) pb=NA( 0.8) cj=NA( 0.) mj=NA( 0.5) cjsw=NA( 0.) pbsw=NA( NA) mjsw=NA( 0.5) is=NA( 10.f) cgso=NA( 0.) cgdo=NA( 0.) cgbo=NA( 0.) ld=NA( 0.))
M1 ( 1 1 2 2 )  nmos2  l=1 w=wid
.ends bar
v1 ( 0 1 )  DC  5.
r1 ( 1 2 )  1.K
r2 ( 1 3 )  1.K
X1 ( 0 2 )  foo  wid=10
X2 ( 0 3 )  foo  wid=1
X3 ( 0 2 )  bar  wid=10
X4 ( 0 3 )  bar  wid=1
#           w(X1.M1)   w(X2.M1)   w(X3.M1)   w(X4.M1)   i(r1)      i(r2)     
 0.         10.        1.         10.        1.         0.         0.        
-1.         10.        1.         10.        1.        -18.866p   -18.866p   
-2.         10.        1.         10.        1.        -0.0018462 -413.79u   
-3.         10.        1.         10.        1.        -0.0019095 -419.6u    
-4.         10.        1.         10.        1.        -0.0019098 -419.6u    
-5.         10.        1.         10.        1.        -0.0019098 -419.6u    
 0.         10.        1.         10.        1.        -0.0019098 -419.6u    
